<app-bg-wrapper>
  <div class="col-auto bg-100 dark__bg-1100 rounded-3 position-relative overflow-hidden auth-title-box">
    <div class="bg-holder" style="background-image: url(assets/img/bg/38.png)"></div>
    <!--/.bg-holder-->

    <div class="position-relative px-4 pt-7 pb-7 pb-sm-5 pb-lg-7 text-center text-md-start px-md-7">
      <div class="false">
        <a [routerLink]="'/auth/login'">
          <div class="d-flex align-items-center justify-content-center justify-content-md-start">
            <img src="assets/img/icons/logo.png" alt="phoenix" width="48" />
          </div>
        </a>
        <h3 class="mt-3 text-black fs-2 fw-bold">Sign Up</h3>
        <span class="text-700 mb-0 mb-sm-3 font-base fs--6">Create your account today</span>
      </div>
    </div>
    <div class="position-relative z-index--1 mb-6 d-none d-sm-block text-center mt-md-15">
      <img class="auth-title-box-img d-dark-none" src="assets/img/spot-illustrations/auth.png" alt="" /><img
        class="auth-title-box-img d-light-none"
        src="assets/img/spot-illustrations/auth-dark.png"
        alt=""
      />
    </div>
  </div>
  <div class="col mx-auto">
    <form class="auth-form-box" [formGroup]="registerForm" (ngSubmit)="onRegisterFormSubmitted(registerForm)">
      <div class="mb-4 text-start">
        <label class="form-label" for="name">Name</label>
        <div class="form-icon-container">
          <input
            class="form-control form-icon-input fs--1"
            id="text"
            type="text"
            placeholder="name"
            formControlName="name"
          /><span class="fas fa-user text-900 fs--1 form-icon pe-none"></span>
        </div>
        <mat-error class="fs--1" *ngIf="registerForm.get('name')!.invalid && registerForm.get('name')!.touched"
          >Name is invalid</mat-error
        >
      </div>
      <div class="mb-4 text-start">
        <label class="form-label" for="email">Email address</label>
        <div class="form-icon-container">
          <input
            class="form-control form-icon-input fs--1"
            id="email"
            type="email"
            placeholder="name@example.com"
            formControlName="email"
          /><span class="fas fa-user text-900 fs--1 form-icon pe-none"></span>
        </div>
        <mat-error class="fs--1" *ngIf="registerForm.get('email')!.invalid && registerForm.get('email')!.touched"
          >Email is invalid</mat-error
        >
      </div>
      <div class="mb-4 text-start d-flex gap-3 justicy-content-center">
        <div class="w-50">
          <label class="form-label" for="password">Password</label>
          <div class="form-icon-container">
            <input
              class="form-control form-icon-input fs--1 w-100"
              id="password"
              type="password"
              placeholder="password"
              formControlName="password"
            /><span class="fas fa-key text-900 fs--1 form-icon pe-none"></span>
          </div>
          <ng-container *ngIf="registerForm.get('password')!.touched">
            <mat-error
              class="fs--1"
              *ngIf="registerForm.get('password')!.getError('customPasswordValidator') | errorPassword as errorPassword"
              >{{ errorPassword }}</mat-error
            >
            <mat-error class="fs--1" *ngIf="registerForm.get('password')!.hasError('required')"
              >Password is required</mat-error
            >
          </ng-container>
        </div>

        <div class="w-50">
          <label class="form-label" for="confirmPassword">Confirm Password</label>
          <div class="form-icon-container">
            <input
              class="form-control form-icon-input fs--1 w-100"
              id="confirmPassword"
              type="password"
              placeholder="confirm password"
              formControlName="confirmPassword"
            /><span class="fas fa-key text-900 fs--1 form-icon pe-none"></span>
          </div>
          <ng-container *ngIf="registerForm.get('confirmPassword')!.touched">
            <mat-error class="fs--1" *ngIf="registerForm.get('confirmPassword')?.errors?.['customCrossFieldValidator']"
              >Passwords do not match</mat-error
            >
            <mat-error class="fs--1" *ngIf="registerForm.get('password')!.hasError('required')"
              >Password is required</mat-error
            >
          </ng-container>
        </div>
      </div>
      <div class="mb-4 text-start">
        <div class="form-icon-container">
          <input class="form-icon-input" type="checkbox" formControlName="termsAndConditions" />
          <span class="font-base ms-1"
            >I accept the
            <a class="fs--1 fw-bold text-decoration-none cursor-pointer">terms</a>
            and
            <a class="fs--1 fw-bold text-decoration-none cursor-pointer">privacy policy</a>
          </span>
        </div>
        <mat-error
          class="fs--1"
          *ngIf="registerForm.get('termsAndConditions')!.invalid && registerForm.get('termsAndConditions')!.touched"
          >Terms and Conditions must me accepted!</mat-error
        >
      </div>

      <mat-error
        *ngIf="registerForm.getError('HTTPResponseError') as error"
        class="d-flex justify-content-center py-2 fs--1"
        >{{ error }}</mat-error
      >
      <button class="btn btn-primary w-100 mb-3" type="submit">Sign Up</button>
      <div class="text-center">
        <a class="fs--1 fw-bold text-decoration-none" [routerLink]="'/auth/login'">Sign in to an existing account</a>
      </div>
    </form>
  </div>
</app-bg-wrapper>
